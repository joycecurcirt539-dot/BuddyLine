@import "tailwindcss";

@theme {
  /* Primary - Deep Indigo & Violet Blend */
  --color-primary: #6366F1;
  --color-on-primary: #FFFFFF;
  --color-primary-container: #E0E7FF;
  --color-on-primary-container: #312E81;

  /* Secondary - Slate & Azure Blend */
  --color-secondary: #475569;
  --color-on-secondary: #FFFFFF;
  --color-secondary-container: #F1F5F9;
  --color-on-secondary-container: #0F172A;

  /* Surface System - LIGHT (Organic) */
  --color-surface: #F8FAFF;
  --color-on-surface: #020617;
  --color-surface-variant: #F1F5F9;
  --color-on-surface-variant: #64748B;

  --color-surface-container-lowest: #FFFFFF;
  --color-surface-container-low: #F8FAFF;
  --color-surface-container: #F1F5F9;
  --color-surface-container-high: #E2E8F0;
  --color-surface-container-highest: #CBD5E1;

  --color-outline: #94A3B8;
  --color-outline-variant: #E2E8F0;

  /* Tertiary - Vibrant Violet */
  --color-tertiary: #8B5CF6;
  --color-on-tertiary: #FFFFFF;
  --color-tertiary-container: #EDE9FE;
  --color-on-tertiary-container: #4C1D95;

  --radius-extra-large: 32px;
  --radius-large: 20px;
  --radius-medium: 12px;
}

.dark {
  /* Primary - Soft Radiant Indigo */
  --color-primary: #818CF8;
  --color-on-primary: #020617;
  --color-primary-container: #1E1B4B;
  --color-on-primary-container: #E0E7FF;

  /* Secondary - Atmospheric Blue Gray */
  --color-secondary: #94A3B8;
  --color-on-secondary: #020617;
  --color-secondary-container: #0F172A;
  --color-on-secondary-container: #F1F5F9;

  /* Surface System - DARK (Deep Space) */
  --color-surface: #020617;
  --color-on-surface: #F8FAFC;
  --color-surface-variant: #0F172A;
  --color-on-surface-variant: #94A3B8;

  --color-surface-container-lowest: #020617;
  --color-surface-container-low: #0F172A;
  --color-surface-container: #1E293B;
  --color-surface-container-high: #334155;
  --color-surface-container-highest: #475569;

  --color-outline: #475569;
  --color-outline-variant: #1E293B;

  /* Tertiary - Luminous Violet */
  --color-tertiary: #A78BFA;
  --color-on-tertiary: #2E1065;
  --color-tertiary-container: #2E1065;
  --color-on-tertiary-container: #F5F3FF;
}

:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;

  /* Material Design 3 Elevation */
  --md-elevation-1: 0 1px 2px 0 rgb(0 0 0 / 0.3), 0 1px 3px 1px rgb(0 0 0 / 0.15);
  --md-elevation-2: 0 1px 2px 0 rgb(0 0 0 / 0.3), 0 2px 6px 2px rgb(0 0 0 / 0.15);
  --md-elevation-3: 0 4px 8px 3px rgb(0 0 0 / 0.15), 0 1px 3px 0 rgb(0 0 0 / 0.3);
  --md-elevation-4: 0 6px 10px 4px rgb(0 0 0 / 0.15), 0 2px 3px 0 rgb(0 0 0 / 0.3);
}

html,
body,
#root {
  height: 100%;
  width: 100%;
  overflow: hidden;
  position: fixed;
  overscroll-behavior: none;
}



body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -20;
  background: radial-gradient(circle at 0% 0%, var(--color-primary-container) 0%, transparent 40%),
    radial-gradient(circle at 100% 100%, var(--color-tertiary-container) 0%, transparent 40%);
  opacity: 0.5;
  filter: blur(80px);
  pointer-events: none;
  /* Hardware acceleration */
  transform: translateZ(0);
  will-change: transform;
}

/* Optimization for Mobile Backgrounds */
@media (max-width: 768px) {
  body::before {
    filter: blur(40px);
    /* Lighter blur for mobile */
    opacity: 0.3;
  }
}

.dark body::before {
  background: radial-gradient(circle at 0% 0%, rgba(79, 70, 229, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 100% 100%, rgba(124, 58, 237, 0.1) 0%, transparent 50%);
  opacity: 1;
}

/* Material Design 3 Surface Levels / Containers */
.surface-1 {
  background-color: var(--color-surface-container-low);
}

.surface-2 {
  background-color: var(--color-surface-container);
}

.surface-3 {
  background-color: var(--color-surface-container-high);
}

.surface-4 {
  background-color: var(--color-surface-container-highest);
}

/* Glassmorphism Classes */
.glass {
  background: rgba(255, 255, 255, 0.4);
  -webkit-backdrop-filter: blur(16px) saturate(150%);
  backdrop-filter: blur(16px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
}

.dark .glass {
  background: rgba(15, 23, 42, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Unified Bubble Container (Refined) */
.bubble {
  @apply bg-surface-container-low/60 backdrop-blur-2xl rounded-[32px] border border-white/20 shadow-xl shadow-primary/5 transition-all duration-700 ease-in-out;
  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.05);
}

.bubble:hover {
  @apply -translate-y-1 shadow-2xl shadow-primary/10 border-white/30;
}

.dark .bubble {
  @apply bg-surface-container-lowest/60 border-white/5;
  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.3);
}

/* Liquid Glass Effect (Premium) */
.liquid-glass {
  background: linear-gradient(135deg,
      rgba(255, 255, 255, 0.7) 0%,
      rgba(255, 255, 255, 0.3) 100%);
  -webkit-backdrop-filter: blur(24px) saturate(200%);
  backdrop-filter: blur(24px) saturate(200%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 20px 50px -15px rgba(0, 0, 0, 0.05);
}

.dark .liquid-glass {
  background: linear-gradient(135deg,
      rgba(15, 23, 42, 0.7) 0%,
      rgba(15, 23, 42, 0.3) 100%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.5);
}

/* PERFORMANCE OVERRIDES FOR MOBILE DEVICES */
@media (max-width: 1024px) {

  .glass,
  .bubble,
  .liquid-glass,
  .backdrop-blur-md,
  .backdrop-blur-xl,
  .backdrop-blur-2xl {
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
  }

  .glass {
    background-color: var(--color-surface-container-low);
  }

  .dark .glass {
    background-color: var(--color-surface-container-lowest);
  }

  .bubble {
    background-color: var(--color-surface-container-high);
    box-shadow: var(--md-elevation-1);
    transition: none !important;
  }

  .dark .bubble {
    background-color: var(--color-surface-container-lowest);
  }

  .liquid-glass {
    background: var(--color-surface-container-low);
    box-shadow: var(--md-elevation-1);
  }
}

/* Hardware Acceleration Class */
.accelerate {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform, opacity;
}

/* Touch-friendly tap targets */
@media (hover: none) and (pointer: coarse) {

  button,
  a {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Material Design 3 Elevation Classes */
.elevation-1 {
  box-shadow: var(--md-elevation-1);
}

.elevation-2 {
  box-shadow: var(--md-elevation-2);
}

.elevation-3 {
  box-shadow: var(--md-elevation-3);
}

.elevation-4 {
  box-shadow: var(--md-elevation-4);
}

/* Twitter/X hover effects */
@media (hover: hover) {
  .twitter-hover {
    transition: background-color 0.2s ease;
  }

  .twitter-hover:hover {
    background-color: rgba(0, 0, 0, 0.03);
  }

  .dark .twitter-hover:hover {
    background-color: rgba(255, 255, 255, 0.03);
  }
}

/* Secret Panel Explicit Theme Styles */
.secret-panel-bg {
  background-color: #FFFFFF;
  /* Bright white for light mode */
  transition: background-color 0.5s ease;
}

.dark .secret-panel-bg {
  background-color: #020617;
  /* Deep slate-950 for dark mode */
}

/* Create Chat Button & Plus Icon Highlight */
.create-chat-highlight {
  background: #4F46E5;
  /* Vibrant Indigo for light mode */
  box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.4);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.create-chat-highlight:hover {
  background: #4338CA;
  transform: scale(1.1) rotate(5deg);
}

.dark .create-chat-highlight {
  background: #818CF8;
  /* Soft Indigo for dark mode */
  box-shadow: 0 10px 15px -3px rgba(129, 140, 248, 0.3);
}

.dark .create-chat-highlight:hover {
  background: #6366F1;
}

.plus-icon-highlight {
  color: #FFFFFF;
  /* White icon for light mode */
}

.dark .plus-icon-highlight {
  color: #020617;
  /* Very dark icon for contrast in dark mode */
}

/* Explicit Branding & Title Styles */
.branding-text-highlight {
  background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  font-weight: 900;
  letter-spacing: -0.05em;
}

.dark .branding-text-highlight {
  background: linear-gradient(135deg, #818CF8 0%, #A78BFA 100%);
  -webkit-background-clip: text;
  background-clip: text;
}

.logo-container-highlight {
  background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
  box-shadow: 0 8px 20px -5px rgba(79, 70, 229, 0.4);
}

.dark .logo-container-highlight {
  background: linear-gradient(135deg, #818CF8 0%, #A78BFA 100%);
  box-shadow: 0 8px 20px -5px rgba(129, 140, 248, 0.3);
}

.page-title-highlight {
  color: #1E293B;
  /* Deep Slate for light mode */
  font-weight: 800;
  letter-spacing: -0.02em;
}

.dark .page-title-highlight {
  color: #F8FAFC;
  /* Bright Slate for dark mode */
}

@layer utilities {
  .mask-logo {
    -webkit-mask-image: url(/logo.png);
    mask-image: url(/logo.png);

    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;

    -webkit-mask-position: center;
    mask-position: center;

    -webkit-mask-size: contain;
    mask-size: contain;
  }

  /* Premium Global Custom Scrollbar */
  *::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, var(--color-primary), var(--color-tertiary));
    border-radius: 20px;
    opacity: 0.1;
  }

  *:hover::-webkit-scrollbar-thumb {
    opacity: 0.4;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
    opacity: 1;
  }

  /* Firefox support */
  * {
    @supports (scrollbar-width: auto) {
      scrollbar-width: thin;
      scrollbar-color: var(--color-primary-container) transparent;
    }
  }
}

/* PERFORMANCE OVERRIDES FOR LOW-END DEVICES */
html.reduce-effects * {
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  /* Transitions and animations are kept at their natural speeds */
  /* NO OVERRIDE of transition-duration or animation-duration here */
  transition-delay: 0s !important;
  animation-delay: 0s !important;
}

/* Ensure background remains readable when blur is stripped */
html.reduce-effects .glass,
html.reduce-effects .bubble,
html.reduce-effects .liquid-glass {
  background-color: var(--color-surface-container-high) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

.dark.reduce-effects .glass,
.dark.reduce-effects .bubble,
.dark.reduce-effects .liquid-glass {
  background-color: var(--color-surface-container-lowest) !important;
}

html.reduce-effects body::before {
  display: none !important;
}

/* Avatar Story-Ring Animations */
@keyframes avatar-ring-spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@keyframes avatar-ring-pulse {

  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.6;
    transform: scale(1.04);
  }
}

/* Online status glow ping */
@keyframes online-ping {
  0% {
    transform: scale(1);
    opacity: 1;
  }

  70% {
    transform: scale(2.2);
    opacity: 0;
  }

  100% {
    transform: scale(2.2);
    opacity: 0;
  }
}

/* ===== SIDEBAR RAIL ===== */
.sidebar-rail {
  background: transparent;
  border-right: 1px solid rgba(255, 255, 255, 0.06);
}

.dark .sidebar-rail {
  background: transparent;
  border-right: 1px solid rgba(255, 255, 255, 0.04);
}

.sidebar-logo-orb {
  background: linear-gradient(135deg, #6366F1, #8B5CF6);
  box-shadow: 0 0 24px 4px rgba(99, 102, 241, 0.5);
}

.sidebar-divider {
  background: rgba(255, 255, 255, 0.1);
}

.dark .sidebar-divider {
  background: rgba(255, 255, 255, 0.06);
}

/* ===== BOTTOM NAV PILL ===== */
.bottom-nav-pill {
  background: rgba(15, 23, 42, 0.82);
  -webkit-backdrop-filter: blur(32px) saturate(180%);
  backdrop-filter: blur(32px) saturate(180%);
  border-radius: 9999px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 20px 60px -12px rgba(0, 0, 0, 0.55), 0 0 0 1px rgba(255, 255, 255, 0.04) inset;
}

@media (max-width: 1024px) {
  .sidebar-rail {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }

  .bottom-nav-pill {
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    backdrop-filter: blur(24px) saturate(180%);
    background: rgba(15, 23, 42, 0.94);
  }
}